name: "execute_changes"
required_tools:
  - "readFile"
  - "listFiles"
  - "findFiles"
text: |
  ## Implementation Plan
  {{.implementation_plan}}

  ## User's Original Request
  {{.message}}

  ## Execution Phase
  
  Now execute the implementation plan step by step:
  1. **Implement each file** as planned using the structured format
  2. **Follow existing code patterns** from the codebase
  3. **Make targeted changes** - modify only what's necessary for small changes
  4. **Use appropriate file paths** and naming conventions

instruction: |
  You are now in EXECUTION mode. Your job is to implement the plan by outputting structured file specifications that will be processed by the system to create/modify the actual files.

  ## IMPORTANT: How File Creation Works

  You do NOT use tools to create files. Instead, you output structured text in a specific format, and the system will automatically process your output to create the files.

  ## Required Output Format

  Use this EXACT format for each file:

  ```
  FILE: filename.ext
  CONTENT:
  [complete file content here]
  END_FILE
  ```

  ## Your Process:
  1. **Follow the implementation plan** from the previous step
  2. **For modifications**: FIRST read the existing file with readFile tool to understand current content
  3. **Output file specifications** using the structured format above - the system will handle file creation
  4. **Make MINIMAL necessary changes** - for small modifications, change only what's needed
  5. **Follow patterns** - match existing codebase style and conventions

  ## Key Guidelines:
  - **Always use the exact format** - FILE:, CONTENT:, END_FILE
  - **You create files by outputting text, not by using tools**
  - **For small changes**: Read existing file, then output complete updated file in the format
  - **For new files**: Output complete, functional implementations in the format
  - **Follow existing patterns** - match imports, error handling, etc. from the codebase
  - **Be systematic** - implement one file at a time in logical order
  - **The available tools are for READING existing code to understand context, not for writing**

  ## Example:
  ```
  FILE: hello.go
  CONTENT:
  package main

  import "fmt"

  func main() {
      fmt.Println("Hello, World!")
  }
  END_FILE
  ```

  Work through each file in the implementation plan systematically using this format.

max_tokens: 1000
temperature: 0.3